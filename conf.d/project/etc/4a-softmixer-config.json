{
    "$schema": "http://iot.bzh/download/public/schema/json/ctl-schema.json",
    "metadata": {
        "uid": "Soft Mixer",
        "version": "1.0",
        "api": "softmixer",
        "info": "Soft Mixer emulating hardware mixer"
    },
    "resources": [
        {
            "uid": "alsa-softmixer",
            "info": "Map alsa-loop subdevices to 4A HAL streams",
            "spath":"./plugins/alsa:../conf.d/project/lua.d",
            "libs": ["alsa-router.ctlso", "softmixer-simple.lua"],
            "lua": {"prefix":"smix","functions": ["snd_cards", "snd_zones", "snd_loops", "snd_streams"]}
        }
    ],

    "onload": [
        {
            "uid": "init-soft-mixer",
            "info": "Initialise Audio Router",
            "action": "lua://alsa-softmixer#_init_softmixer_"
        }
    ],

    "controls": [
        {
            "uid": "mixer-config",
            "action": "lua://alsa-softmixer#_mixer_config_"
        },
        {
            "uid": "snd-cards",
            "action": "plugin://alsa-softmixer#snd_cards"
        },
        {
            "uid": "snd-zone",
            "action": "plugin://alsa-softmixer#snd_zones"
        }
    ]
    
}
