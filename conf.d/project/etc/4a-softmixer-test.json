{
    "$schema": "http://iot.bzh/download/public/schema/json/ctl-schema.json",
    "metadata": {
        "uid": "Soft Mixer",
        "version": "1.0",
        "api": "softmixer",
        "info": "Soft Mixer emulating hardware mixer"
    },
    "resources": [
        {
            "uid": "softmixer",
            "info": "Map alsa-loop subdevices to 4A HAL streams",
            "spath": "./plugins/alsa:../conf.d/project/lua.d",
            "libs": ["alsa-softmixer.ctlso", "softmixer-simple-test.lua"],
            "lua": {
                "prefix": "smix",
                "functions": ["_mixer_new_"]
            }
        }
    ],

    "onload": [
        {
            "uid": "init-soft-mixer",
            "info": "Initialise Audio Router",
            "action": "lua://softmixer#_mixer_simple_test_"
        }
    ],
    "controls": [
        {
            "uid": "create",
            "action": "plugin://softmixer#mixer_new"
        }
    ]
}
